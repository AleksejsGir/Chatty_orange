# Sprint 2 - План работы над проектом Chatty

## Обзор спринта

**Период:** [Дата начала] — [Дата окончания]

**Основные цели:**
- Создание и настройка приложения `posts`
- Реализация функционала создания, редактирования и отображения постов
- Расширение возможностей профиля пользователя
- Написание тестов для созданного функционала

## Распределение задач

### Участник 1: Инфраструктура и базовые настройки

**Ответственный:** [Имя участника]

**Задачи:**
1. Создать приложение `posts` и подключить его в `settings.py`
   - `python manage.py startapp posts`
   - Добавить 'posts' в INSTALLED_APPS
   - Создать базовую структуру директорий в приложении

2. Настроить django-allauth в проекте
   - Добавить allauth в INSTALLED_APPS
   - Настроить необходимые параметры в settings.py
   - Обновить urls.py для поддержки маршрутов allauth

3. Интегрировать `posts` в основные URLs проекта
   - Создать и настроить posts/urls.py
   - Подключить маршруты в основной urls.py

**Файлы для изменения:**
- posts/ (новая директория)
- Chatty_orange/settings.py
- Chatty_orange/urls.py
- posts/urls.py (новый файл)

### Участник 2: Модели и миграции

**Ответственный:** [Имя участника]

**Задачи:**
1. Создать модель `Post` со следующими полями:
   - автор (ForeignKey на settings.AUTH_USER_MODEL)
   - заголовок (CharField)
   - текст (TextField)
   - изображение (ImageField, опционально)
   - дата публикации (DateTimeField)
   - slug (SlugField)

2. Настроить методы модели:
   - `__str__` для удобного отображения
   - `get_absolute_url()` для получения URL поста
   - Автоматическая генерация slug при сохранении

3. Настроить админку для управления постами
   - Регистрация модели в admin.py
   - Настройка отображения полей

4. Подготовить и применить миграции
   - `python manage.py makemigrations`
   - `python manage.py migrate`

**Файлы для изменения:**
- posts/models.py
- posts/admin.py

### Участник 3: Формы и представления для постов

**Ответственный:** [Имя участника]

**Задачи:**
1. Создать PostForm с использованием ModelForm
   - Настроить поля: title, text, image
   - Добавить валидацию данных
   - Настроить виджеты для полей

2. Реализовать базовые представления:
   - PostCreateView (создание постов)
   - PostListView (список всех постов)
   - PostDetailView (детальное отображение)

3. Настроить permissions и mixins:
   - LoginRequiredMixin для ограничения доступа
   - UserPassesTestMixin для проверки авторства

**Файлы для изменения:**
- posts/forms.py (новый файл)
- posts/views.py

### Участник 4: Управление постами и профилем

**Ответственный:** [Имя участника]

**Задачи:**
1. Реализовать управление постами:
   - PostUpdateView (редактирование)
   - PostDeleteView (удаление)
   - Проверка прав доступа для редактирования/удаления

2. Создать форму и представление для редактирования профиля:
   - Форма для редактирования данных пользователя
   - Представление для обновления профиля
   - Функционал для загрузки и обновления аватара

3. Настроить URLs для всех представлений

**Файлы для изменения:**
- posts/views.py (дополнение)
- users/forms.py (новый или обновление)
- users/views.py
- users/urls.py (обновление)

### Участник 5: Шаблоны и тестирование

**Ответственный:** [Имя участника]

**Задачи:**
1. Создать шаблоны для постов:
   - posts/post_list.html (список)
   - posts/post_detail.html (детали поста)
   - posts/post_form.html (форма создания/редактирования)
   - posts/post_confirm_delete.html (подтверждение удаления)

2. Добавить отображение аватара:
   - В шаблонах профиля
   - В списке постов рядом с именем автора
   - В детальном отображении поста

3. Написать тесты:
   - Тесты создания поста
   - Тесты редактирования поста
   - Тесты доступа к страницам (авторизация)

**Файлы для изменения:**
- templates/posts/ (новая директория с шаблонами)
- templates/users/ (обновление шаблонов профиля)
- posts/tests.py

## Зависимости и последовательность работы

1. **Приоритеты и зависимости:**
   - Участник 1 должен завершить инфраструктуру перед тем, как другие начнут работу
   - Участник 2 должен создать модели до того, как остальные смогут использовать их
   - Участники 3 и 4 могут работать параллельно после создания моделей
   - Участник 5 может начать работу над шаблонами после определения базовых представлений

2. **График встреч:**
   - Daily standup: [время] каждый день
   - Ревью кода: после завершения основных компонентов
   - Итоговая демонстрация: в конце спринта

## Git-процесс

1. **Ветвление:**
   - Каждый участник создает ветку для своих задач:
     ```
     git checkout -b feature/user1-posts-app
     git checkout -b feature/user2-post-model
     git checkout -b feature/user3-post-views
     git checkout -b feature/user4-post-management
     git checkout -b feature/user5-templates
     ```

2. **Коммиты:**
   - Делайте понятные описания коммитов:
     ```
     git commit -m "feat: create posts app structure"
     git commit -m "feat: implement post model with required fields"
     ```
   - Делите изменения на логические блоки, не создавайте огромных коммитов

3. **Pull Requests:**
   - Создавайте PR в основную ветку разработки по завершении задачи
   - Запрашивайте ревью у минимум одного участника команды
   - Используйте PR для обсуждения изменений и получения обратной связи

## Критерии завершения

Спринт будет считаться успешным, если:
1. Пользователи могут создавать, просматривать, редактировать и удалять посты
2. Посты корректно отображаются на странице списка и детальной странице
3. Профиль пользователя содержит аватар и возможность редактирования
4. Тесты для созданного функционала успешно проходят
5. Код прошел ревью и соответствует стандартам команды

## Дополнительные заметки

- При возникновении блокеров немедленно сообщайте команде
- Используйте issues в GitHub для отслеживания задач
- Документируйте код и изменения API
- Проверяйте совместимость с мобильными устройствами

---
**Последнее обновление:** [Дата создания документа]